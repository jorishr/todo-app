"use strict";function addTodos(o){o.forEach(function(o){addTodo(o)})}function addTodo(o){var t=$('<li class="task">'.concat(o.name,"<span>X</span></li>"));t.data("id",o._id),t.data("completed",o.completed),o.completed&&t.addClass("done"),$("ul").append(t)}function createTodo(){$.post("/api/todos",{name:$("#todoInput").val()}).then(function(o){addTodo(o),$("#todoInput").val("")}).catch(function(o){console.log(o)})}function updateTodo(t){var o=t.data("id"),n=t.data("completed"),a={completed:!n};$.ajax({method:"PUT",url:"/api/todos/".concat(o),data:a}).then(function(o){t.toggleClass("done"),t.data("completed",!n)}).catch(function(o){console.log(o)})}function removeTodo(o){var t=o.data("id");$.ajax({method:"DELETE",url:"/api/todos/".concat(t)}).then(function(){o.remove()}).catch(function(o){console.log(o)})}$(document).ready(function(){$.getJSON("/api/todos").then(addTodos).catch(function(o){console.log(o)}),$("#todoInput").keypress(function(o){13==o.which&&createTodo()}),$(".list").on("click","li",function(o){updateTodo($(this))}),$(".list").on("click","span",function(o){o.stopPropagation(),removeTodo($(this).parent())})});